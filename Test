-- ‚úÖ CLEANED & GLOWN-UP UI LIBRARY (Rayfield-style base improved)
-- This file refines your original code: better layout, modern look, mobile-safe
-- Only key visual/UI elements were altered; structure & logic is preserved

-- üìÅ Modules
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- üé® Theme Improvements
local THEME = {
    Background = Color3.fromRGB(20, 20, 28),
    Primary = Color3.fromRGB(75, 110, 255),
    Secondary = Color3.fromRGB(55, 85, 220),
    Accent = Color3.fromRGB(255, 255, 255),
    Text = Color3.new(1,1,1),
    Hover = Color3.fromRGB(95, 125, 255),
    Error = Color3.fromRGB(255, 70, 70),
    Shadow = Color3.fromRGB(0, 0, 0)
}

-- üîß Create main frame
local function CreateRoundedFrame(parent, size, position, bg)
    local frame = Instance.new("Frame")
    frame.Size = size
    frame.Position = position
    frame.BackgroundColor3 = bg or THEME.Background
    frame.BorderSizePixel = 0
    frame.BackgroundTransparency = 0.05

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = frame

    local shadow = Instance.new("UIStroke")
    shadow.Color = THEME.Shadow
    shadow.Thickness = 1.2
    shadow.Transparency = 0.8
    shadow.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    shadow.Parent = frame

    frame.Parent = parent
    return frame
end

-- üß© Create label
local function CreateLabel(parent, text, size, pos)
    local label = Instance.new("TextLabel")
    label.Text = text
    label.Size = size
    label.Position = pos
    label.TextColor3 = THEME.Text
    label.Font = Enum.Font.Gotham
    label.TextSize = 14
    label.BackgroundTransparency = 1
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = parent
    return label
end

-- ü™ü Create main GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GlowUI"
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.Parent = PlayerGui

-- üñºÔ∏è Main window
local main = CreateRoundedFrame(screenGui, UDim2.new(0.45, 0, 0.55, 0), UDim2.new(0.275, 0, 0.25, 0))
main.AnchorPoint = Vector2.new(0.5, 0.5)
main.Position = UDim2.new(0.5, 0, 0.5, 0)

-- üî≤ Title bar
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0.1, 0)
titleBar.BackgroundColor3 = THEME.Primary
titleBar.BorderSizePixel = 0
titleBar.Parent = main

local titleLabel = CreateLabel(titleBar, "üî• Custom UI", UDim2.new(1, -40, 1, 0), UDim2.new(0, 10, 0, 0))
titleLabel.Font = Enum.Font.GothamBold

-- ‚ùå Close Button
local close = Instance.new("TextButton")
close.Size = UDim2.new(0, 30, 1, 0)
close.Position = UDim2.new(1, -30, 0, 0)
close.Text = "‚úï"
close.TextColor3 = THEME.Text
close.BackgroundColor3 = THEME.Error
close.Font = Enum.Font.GothamBold
close.TextSize = 16
close.BorderSizePixel = 0
close.Parent = titleBar
close.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)

-- üß± Button Example
local button = Instance.new("TextButton")
button.Size = UDim2.new(0.9, 0, 0, 40)
button.Position = UDim2.new(0.05, 0, 0.2, 0)
button.Text = "Click Me"
button.TextColor3 = THEME.Text
button.Font = Enum.Font.Gotham
button.TextSize = 16
button.BackgroundColor3 = THEME.Primary
button.BorderSizePixel = 0
button.Parent = main

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 6)
corner.Parent = button

-- Hover effect
button.MouseEnter:Connect(function()
    TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = THEME.Hover}):Play()
end)
button.MouseLeave:Connect(function()
    TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = THEME.Primary}):Play()
end)

-- Mobile drag support for main window
local dragging, dragInput, startPos, dragStart

main.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = main.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then dragging = false end
        end)
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local delta = input.Position - dragStart
        main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- üü¢ Callback for button
button.MouseButton1Click:Connect(function()
    print("Button clicked!")
end)
